<!DOCTYPE html>
<html>
<head>
  @include('public_header.html')
    <!-- {{{include '../widget/public_header'}}} -->
</head>
<body class="layui-layout-body" style="visibility:hidden;">

<div class="layui-layout layui-layout-admin">
  @include('public_top.html')
  <!-- {{{include 'include/public_top'}}} --> 
  @include('public_side.html')
  
  <div class="layui-body">
    <!-- 内容主体区域 -->
    <fieldset class="layui-elem-field layui-field-title" style="margin-top: 50px;">
      <legend>图片懒加载</legend>
    </fieldset>
      <div class="demo">
        <script type="text/html" id="demoTpl">
          {{each list}}
          <img src='/static/images/loading.gif' lay-src="{{$value.image_url}}">
          {{/each}}
        </script>
      </div>
  </div>
  
  @include('public_footer.html')
</div>
  @include('public_script.html')
    <script type="text/javascript">
      require(['index'], () => {
        layui.use('flow', function(){
          var flow = layui.flow;
          
          //按屏加载图片
          flow.lazyimg({
            elem: '.demo img'
            ,scrollElem: '.demo'
          });
          
        });

        // 侧导航
        layui.use('element', function(){
          var element = layui.element;
          
          //监听导航点击
          element.on('nav(demo)', function(elem){
            //console.log(elem)
            layer.msg(elem.text());
          });
        });
      });

    </script>
</body>

</html>
